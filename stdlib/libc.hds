
extern def puts(*Byte): Void = puts;
extern def exit(Int): Void = exit;
extern def malloc(Size): *mut Void = malloc;
extern def free(*mut Void): Void = free;
extern def strlen(*Byte): Size = strlen;
extern def strcmp(*Byte, *Byte): Bool = strcmp;
extern def memcpy(*Void, *Void, Size): Void = memcpy;
extern def strlen(*Byte): Size = strlen;
extern def memcmp(*Void, *Void, Size): Int = memcmp;
extern def floor(Double): Double = floor;
/// we don't have variadics right now
/// there isn't a better way to type this
extern def fprintf(*File, *Byte, *Byte): Size = fprintf;
extern def printf(*Byte, *Byte): Size = printf;
extern def sleep(Size): Size = sleep;
extern def fflush(*File): Void = fflush;

extern def fputs(*Byte, *File): Void = fputs;

struct Dir {}
struct dirent {
    val d_name: *Byte;
}
struct File {}

extern def opendir(*Byte): *Dir = opendir;
extern def closedir(*Dir): Void = closedir;
extern def readdir(*Dir): *dirent = readdir;
extern def getline(*mut *mut Byte, *mut Size, *File): Size = getline;
extern def fgetc(*File): Byte = fgetc;
extern def strtoul(*Byte, **Byte, Int): Size = strtoul;

extern def hdc_dirent_name(*dirent): *Byte = hdc_dirent_name;
extern def hdc_dirent_is_directory(*dirent): Bool = hdc_dirent_is_directory;

def name(self: *dirent): *Byte {
    return hdc_dirent_name(self);
}

def is_directory(self: *dirent): Bool {
    return hdc_dirent_is_directory(self);
}

extern def fread(*Void, Size, Size, *File): Size = fread;

extern def errno(): Int = hdc_get_errno;
extern def set_errno(Int): Void = hdc_set_errno;

extern def open(*Byte, Int): Int = open;
extern def close(Int): Int = close;

