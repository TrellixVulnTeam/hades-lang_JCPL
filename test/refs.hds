
struct Box[T] {
    val value: T;
}
def main(): Void {
    val b = true

    print_bool(ref b)

    val box = Box(b"message")
    val box_ref: ref Box[*Byte] = ref box
    val message_ref = ref box_ref.value
    puts(*message_ref)
    print_ref(message_ref)
    puts(box_ref.value)
}

extern def puts(*Byte): Void = puts

def print_ref(message_ref: ref *Byte): Void {
    puts(*message_ref)
}

def print_bool(value: ref Bool): Void {
    if *value {
        puts(b"true")
    } else {
        puts(b"false")
    }
}