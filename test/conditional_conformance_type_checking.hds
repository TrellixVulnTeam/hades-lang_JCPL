import submodule.test_utils as utils;
def main(): Void {
    print(1);
    print(true);
    print(Box(1));
    print(Box(true));
    val box = Box(1); (&box).print();
}

def print[T](value: T): Void
    where T: Printable {
    val copy = value; (&copy).print();
}
def print_both[T, U](value: T, value2: U): Void
    where T: Printable, U: Printable {
    print(value);
    print(value2);
}

def x[T](value: T): Void where T: UnboundInterface {
}

struct Box[T] {
    val value: T;
}

implement[T] Printable for Box[T] where T: Printable {
    def print(this: *Box[T]): Void {
        val value = (*this).value; (&value).print();
    }
}

interface Printable {
    def print(this: *This): Void;
}

implement Printable for Int {
    def print(this: *Int): Void {
        utils.print_int(*this);
    }
}

interface I {
    def p[T](this: This): Void;
    def t(): Void;
    def x(this: Int): Void;
    def y(this: *Void): Void;
    def z(this: This): Void;
    def a(this: *This): Void;
}
